# UC001 - 여행후기 관리(Review Management)
사용자가 여행 후기를 등록, 변경, 삭제하는 유스케이스이다
관리자가 여행 후기를 조회, 삭제하는 유스케이스이다

## 주 액터(Primary Actor)
사용자, 관리자

## 보조 액터 (Secondary Actor)
구글맵 (Q: 유투브, 링크) 

## 사전 조건(Preconditions)
- 사용자 또는 관리자로 로그인 되어 있다
- 여행후기 페이지에 있어야 한다

## 종료 조건(Postconditions)
- 여행후기를 등록하였다
- 여행후기를 변경하였다
- 여행후기를 삭제하였다

## 시나리오(Flow of Events)

### 여행후기 등록하기
1. 사용자는 나의여행후기작성하기 버튼을 클릭한다
2. 시스템은 여행후기 등록 템플릿을 선택(자유롭게 작성하기, 템플릿으로 작성하기)할 수 있는 폼을 출력한다

#### 자유롭게 작성하기로 여행후기 등록하기
1. 사용자가 자유롭게 작성하기 버튼을 클릭하였다면 시스템은 자유롭게 작성하기 여행후기 등록 폼을 출력한다
    - 2.1 사용자가 해당 사이트에서 현지투어상품을 1년 이내에 이용한 적이 있고, 리뷰를 작성한 적이 없다면 
       - 사용자가 이용한 현지투어상품 리스트를 출력한다
      - 2.1.1 사용자가 현지투어상품을 리뷰하겠다고 선택하면
         - 시스템은 현지투어상품리뷰 폼도 현재창에 출력한다
      - 2.1.2 사용자가 현지투어상품을 리뷰하겠다고 선택하지 않으면
         - 시스템은 현지투어상품리뷰 폼을 출력하지 않는다
    - 2.2 사용자가 해당 사이트에서 현지투어상품을 1년 이내에 이용한 적이 있고, 리뷰를 작성한 적이 있거나, 현지투어상품을 1년 이내에 이용한 적이 없다면 
        - 시스템이 출력할 현지투어상품리뷰 폼은 없다
2. 사용자가 국가, 도시를 선택하고(필수), 제목(필수), 사진, 동영상, 지도를 첨부하고, 현지투어상품리뷰(2.1인 경우 필수), 내용(필수)을 입력하고 등록 버튼을 누른다
3. 시스템은 여행후기 정보를 저장한 후 '여행후기 조회하기' 유스케이스의 (?)번으로 간다.
      - 3.1 필수 입력 항목(국가, 도시, 제목, 현지투어상품리뷰(2.1인 경우), 내용)이 비어 있다면,
           - 시스템은 필수 입력 항목이 비어 있음을 알린다
           
#### 자유롭게 작성하기로 작성한 여행후기 변경하기
#### 자유롭게 작성하기로 작성한 여행후기 삭제하기
      
#### 템플릿으로 작성하기로 여행후기 등록하기
1. 사용자가 템플릿으로 작성하기 버튼을 클릭하였다면,
2. 시스템은 여행기간을 선택하는 폼을 출력한다
3. 사용자는 (여행)시작일과 종료일을 선택하고 Next 버튼을 누른다
4. 시스템은 사용자가 선택한 시작일과 종료일에 맞춰 날짜 탭을 포함한 작성 폼을 출력한다
   - (시작일,종료일,시작일과 종료일에 따른 날짜탭, 제목, 자유일정, 현지투어, 레스토랑, 숙소, 관광지, 교통)
5. 사용자가 시작일과 종료일을 클릭하면
    - 5.1 시스템은 날짜를 선택하고 변경 할 수 있는 폼을 현재창에 출력한다
    - 5.2 사용자가 시작일과 종료일을 선택하면
    - 5.3 시스템은 새롭게 선택한 날짜에 맞춰 날짜탭을 출력한다
6. 사용자가 도시선택하기를 클릭하면
    - 6.1 시스템은 국가, 도시를 선택할 수 있는 폼을 현재창에 출력한다
    - 6.2 사용자는 국가와 도시를 선택하면
    - 6.3. 시스템은 사용자가 선택한 국가와 도시를 출력한다
7. 사용자가 원하는 일정유형(자유일정,현지투어,레스토랑,숙소,관광지,교통)을 선택하면
    - 7.1 시스템은 해당하는 작성 폼을 현재창에 출력한다
    - 7.2 사용자는 정보를 입력하고 save 버튼을 클릭한다
    - 7.3 시스템은 상세정보를 저장한다
           - 여기서 발생하는 기본, 대체, 예외흐름은 아래의 명세서로 대체한다

8. 사용자가 작성완료를 클릭한다
9. 시스템은 정보를 저장하고 '여행후기 조회하기' 유스케이스의 (?)번으로 간다
    - 필수 항목(제목, 도시, 국가, 최소 1 개의 일정)이 비어 있다면,
         - 시스템은 필수 항목이 비어 있음을 알린다

##### 자유일정 등록하기
1. 사용자가 자유일정 버튼을 클릭하였다면
2. 시스템은 자유일정 폼을 출력한다
   - 소제목, 사진(최대 5개), 유투브링크, 링크, 지도, 내용
3. 사용자가 정보를 입력하고 save 버튼을 클릭한다
4. 시스템은 자유일정 정보를 저장한다
    - 필수 항목 (소제목, 내용)이 비어 있다면,
       - 시스템은 필수 항목이 비어 있음을 알린다
      
      ###### 대안흐름
      3.1 사용자가 정보를 입력하고 (save 버튼을 누르지 않고 바로) 작성완료를 클릭한다.
      3.2 시스템은 자유일정 정보를 저장하고 '여행후기 조회하기' 유스케이스의 (?) 번으로 간다
        - 필수 입력 항목(소제목, 내용)이 비어있다면,
              - 시스템은 필수 입력 항목이 비어 있음을 알린다
    
      ###### 예외흐름
      3.1 사용자가 내용을 입력하고 (save 버튼을 누르지 않고) 다른 일정 등록 버튼을 클릭한다
      3.2 시스템은 해당 일정이 저장되지 않았음을 알린다

##### 현지투어 등록하기
1. 사용자가 현지투어 등록하기 버튼을 클릭한다
2. 시스템은 현지투어리뷰 폼을 출력한다
   - 현지투어선택, 사진(최대 5개), 내용
   - 사용자가 해당 사이트에서 이용한 현지투어상품이 없다면
        - 시스템은 리뷰 할 현지투어 상품이 없음을 선택탭에 출력한다
3. 사용자가 리뷰할현지투어상품을 선택한다
4. 사용자가 사진첨부, 내용을 입력하고 save 버튼을 클릭한다
5. 시스템은 현지투어 정보를 저장한다
    - 사용자가 리뷰할현지투어상품을 선택하지 않았다면
       - 시스템은 선택된 여행상품이 없음을 알린다
    - 필수 항목 (내용)이 비어 있다면,
       - 시스템은 필수 항목이 비어 있음을 알린다
      
      ###### 대안흐름
      4.1 사용자가 정보를 입력하고 (save 버튼을 누르지 않고 바로) 작성완료를 클릭한다.

      4.2 시스템은 현지투어 정보를 저장하고 '여행후기 조회하기' 유스케이스의 (?) 번으로 간다
       - 사용자가 리뷰할현지투어상품을 선택하지 않았다면
              - 시스템은 선택된 여행상품이 없음을 알린다
        - 필수 입력 항목(내용)이 비어있다면,
              - 시스템은 필수 입력 항목이 비어 있음을 알린다
    
      ###### 예외흐름
      2.1 사용자가 해당 사이트에서 이용한 현지투어상품이 없다면
          - 시스템은 리뷰 할 현지투어 상품이 없음을 선택탭에 출력한다

      4.1 사용자가 내용을 입력하고 (save 버튼을 누르지 않고) 다른 일정 등록 버튼을 클릭한다
      4.2 시스템은 해당 일정이 저장되지 않았음을 알린다




#### 템플릿으로 작성한 여행후기 변경하기

[공통내용]

1. 사용자는 시작일,종료일,국가,도시,제목, 일정변경과 삭제, 일정의순서를 변경한다
2. 시스템은 정보를 변경한 후 '여행후기 조회하기' 유스케이스의 (?) 번으로 간다
    - 필수 항목(제목, 도시, 국가, 최소 1 개의 일정)이 비어 있다면,
         - 시스템은 필수 항목이 비어 있음을 알린다


##### 일정 순서 변경하기
1. 사용자는 2번째 컬럼에서 일정을 드래그하여 순서를 변경하고 작성완료를 클릭한다
2. 시스템은 변경된 순서를 저장하고 '여행후기 조회하기' 유스케이스의 (?) 번으로 간다

##### 일정 삭제하기
1. 사용자가 2번째 컬럼에서 X 버튼을 클릭한다
2. 시스템은 해당 일정을 삭제한다

[개별내용]
##### 자유일정 변경하기
1. 사용자는 자유일정 상세 정보 화면에서 소제목, 사진, 유투브링크, 링크, 지도, 내용을 변경하고 save 버튼을 클릭한다
2. 시스템은 자유일정 정보를 변경한다
       - 사용자가 리뷰할현지투어상품을 선택하지 않았다면
              - 시스템은 선택된 여행상품이 없음을 알린다
        - 필수 입력 항목(내용)이 비어있다면,
              - 시스템은 필수 입력 항목이 비어 있음을 알린다


##### 현지투어 변경하기
1. 사용자는 현지투어 상세 정보 화면에서 현지투어선택, 사진, 내용을 변경하고 save 버튼을 클릭한다
2. 시스템은 자유일정 정보를 변경한다
     - 필수 입력 항목(소제목, 내용)이 비어 있다면,
         - 시스템은 필수 입력 항목이 비어 있음을 알린다



## UI 프로토타입

### 매니저 목록
![매니저 목록](./images/uc002-list.png)

### 매니저 상세보기
![매니저 상세보기](./images/uc002-detail.png)



