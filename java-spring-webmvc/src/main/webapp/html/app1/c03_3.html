<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>c03_3</title>
</head>
<body>

<h1>서버에 요청할 때 응답 받기를 원하는 데이터의 유형을 지정하기</h1>

<button id="btn1" type="button">text/plain 타입의 콘텐츠 요청</button><br>
<button id="btn2" type="button">text/html 타입의 콘텐츠 요청</button><br>
<button id="btn3" type="button">application/json 타입의 콘텐츠 요청</button><br>
<a href="../../app1/c0 3_3">그냥 요청</a><br>

<textarea id="ta1" cols="50" rows="10"></textarea>

<!-- getElementById 메서드: 자기가 관리하는 엘리먼트 중에서 btn1이라는 것을 찾아줌-->
<script>
var b1 = document.getElementById("btn1")
var b2 = document.getElementById("btn2")
var b3 = document.getElementById("btn3")
var ta1 = document.getElementById("ta1")

b1.onclick = function() {
  var xhr = new XMLHttpRequest();
  xhr.open("get", "../../app1/c03_3", false);
  xhr.setRequestHeader("Accept", "text/plain");
  xhr.send();
  ta1.value = xhr.responseText;
};

b2.onclick = function() {
	  var xhr = new XMLHttpRequest();
	  xhr.open("get", "../../app1/c03_3", false);
	  xhr.setRequestHeader("Accept", "text/html");
	  xhr.send();
	  ta1.value = xhr.responseText;
	};
	
b3.onclick = function() {
	  var xhr = new XMLHttpRequest();
	  xhr.open("get", "../../app1/c03_3", false);
	  xhr.setRequestHeader("Accept", "application/json");
	  xhr.send();
	  ta1.value = xhr.responseText;
	};

</script>
</body>
</html>

<!-- 
GET /java-spring-webmvc/app1/c03_2 HTTP/1.1
Host: localhost:8080
Connection: keep-alive
Pragma: no-cache
Cache-Control: no-cache
name: kim
age: 20
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36
Accept: */*
Referer: http://localhost:8080/java-spring-webmvc/html/app1/c03_2.html
Accept-Encoding: gzip, deflate, br
Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
 -->